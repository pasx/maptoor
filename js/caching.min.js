var utils=utils||{};utils.caching={CachedData:function(t,c){this.key=t,this.data=c},BaseCache:function(){this.cache=[],this.max=10,this.compareFunc=null;var t=0,c=function(c){if(!c&&t<this.max/2)t++;else{t=0;var i=this.cache.length;if(!(i<this.max)){var n=i-this.max;this.cache=this.cache.slice(n)}}};this.get=function(t){var c=this,i=this.compareFunc?function(i){return c.compareFunc(t,i)}:function(c){return t==c};return Enumerable.From(this.cache).FirstOrDefault(null,function(t){return i(t.key)})},this.contains=function(t){return null!=this.get(t)},this.count=function(){return this.cache.length},this.add=function(t,i){return!this.contains(t)&&(this.cache.push(new utils.caching.CachedData(t,i)),c.call(this),!0)},this.clear=function(){this.cache=[]},this.crunch=function(){c.call(this,!0)}},SimpleCache:function(t){utils.caching.BaseCache.apply(this,arguments),this.compareFunc=t},SpatialCache:function(t){utils.caching.SimpleCache.apply(this,arguments),this.compareFunc=t||function(t,c){return t.equals(c)}}};